"use strict";
require("typings-global");
var plugins = require("./smartssh.plugins");
var helpers = require("./smartssh.classes.helpers");
var SshDir = (function () {
    function SshDir(sshKeyArray, sshConfig, sshDirPathArg) {
        this._sshKeyArray = sshKeyArray;
        this._sshConfig = sshConfig;
        if (sshDirPathArg) {
            this._path = sshDirPathArg;
        }
        else {
            this._path = plugins.path.join(plugins.smartpath.get.home(), ".ssh/");
        }
        ;
    }
    SshDir.prototype.writeToDir = function (dirPathArg) {
        var path = this._path;
        if (dirPathArg)
            path = dirPathArg;
        this._sshKeyArray.forEach(function (sshKeyArg) {
            sshKeyArg.store(path);
        });
        this._sshConfig.store(path);
    };
    ;
    SshDir.prototype.readFromDir = function (dirPathArg) {
        var path = this._path;
        if (dirPathArg)
            path = dirPathArg;
    };
    SshDir.prototype.updateDirPath = function (dirPathArg) {
        this._path = dirPathArg;
    };
    ;
    SshDir.prototype.getKeys = function () {
        return helpers.sshKeyArrayFromDir(this._path);
    };
    return SshDir;
}());
exports.SshDir = SshDir;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNtYXJ0c3NoLmNsYXNzZXMuc3NoZGlyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxRQUFPLGdCQUFnQixDQUFDLENBQUE7QUFDeEIsSUFBWSxPQUFPLFdBQU0sb0JBQW9CLENBQUMsQ0FBQTtBQUM5QyxJQUFZLE9BQU8sV0FBTSw0QkFBNEIsQ0FBQyxDQUFBO0FBSXREO0lBSUksZ0JBQVksV0FBb0IsRUFBQyxTQUFtQixFQUFDLGFBQXFCO1FBQ3RFLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBQzVCLEVBQUUsQ0FBQSxDQUFDLGFBQWEsQ0FBQyxDQUFBLENBQUM7WUFDZCxJQUFJLENBQUMsS0FBSyxHQUFHLGFBQWEsQ0FBQztRQUMvQixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxFQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pFLENBQUM7UUFBQSxDQUFDO0lBQ04sQ0FBQztJQUNELDJCQUFVLEdBQVYsVUFBVyxVQUFrQjtRQUN6QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3RCLEVBQUUsQ0FBQSxDQUFDLFVBQVUsQ0FBQztZQUFDLElBQUksR0FBRyxVQUFVLENBQUM7UUFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsVUFBQyxTQUFTO1lBQ2hDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNoQyxDQUFDOztJQUNELDRCQUFXLEdBQVgsVUFBWSxVQUFrQjtRQUMxQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3RCLEVBQUUsQ0FBQSxDQUFDLFVBQVUsQ0FBQztZQUFDLElBQUksR0FBRyxVQUFVLENBQUM7SUFDckMsQ0FBQztJQUNELDhCQUFhLEdBQWIsVUFBYyxVQUFpQjtRQUMzQixJQUFJLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQztJQUM1QixDQUFDOztJQUNELHdCQUFPLEdBQVA7UUFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBQ0wsYUFBQztBQUFELENBL0JBLEFBK0JDLElBQUE7QUEvQlksY0FBTSxTQStCbEIsQ0FBQSIsImZpbGUiOiJzbWFydHNzaC5jbGFzc2VzLnNzaGRpci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcInR5cGluZ3MtZ2xvYmFsXCI7XG5pbXBvcnQgKiBhcyBwbHVnaW5zIGZyb20gXCIuL3NtYXJ0c3NoLnBsdWdpbnNcIjtcbmltcG9ydCAqIGFzIGhlbHBlcnMgZnJvbSBcIi4vc21hcnRzc2guY2xhc3Nlcy5oZWxwZXJzXCI7XG5pbXBvcnQge1NzaEluc3RhbmNlfSBmcm9tIFwiLi9zbWFydHNzaC5jbGFzc2VzLnNzaGluc3RhbmNlXCI7XG5pbXBvcnQge1NzaEtleX0gZnJvbSBcIi4vc21hcnRzc2guY2xhc3Nlcy5zc2hrZXlcIjtcbmltcG9ydCB7U3NoQ29uZmlnfSBmcm9tIFwiLi9zbWFydHNzaC5jbGFzc2VzLnNzaGNvbmZpZ1wiO1xuZXhwb3J0IGNsYXNzIFNzaERpciB7IC8vIHNzaERpciBjbGFzcyAtPiBOT1QgRVhQT1JURUQsIE9OTFkgRk9SIElOVEVSTkFMIFVTRVxuICAgIHByaXZhdGUgX3BhdGg6c3RyaW5nOyAvLyB0aGUgcGF0aCBvZiB0aGUgc3NoIGRpcmVjdG9yeVxuICAgIHByaXZhdGUgX3NzaEtleUFycmF5OlNzaEtleVtdO1xuICAgIHByaXZhdGUgX3NzaENvbmZpZzpTc2hDb25maWc7XG4gICAgY29uc3RydWN0b3Ioc3NoS2V5QXJyYXk6U3NoS2V5W10sc3NoQ29uZmlnOlNzaENvbmZpZyxzc2hEaXJQYXRoQXJnPzpzdHJpbmcpe1xuICAgICAgICB0aGlzLl9zc2hLZXlBcnJheSA9IHNzaEtleUFycmF5O1xuICAgICAgICB0aGlzLl9zc2hDb25maWcgPSBzc2hDb25maWc7XG4gICAgICAgIGlmKHNzaERpclBhdGhBcmcpe1xuICAgICAgICAgICAgdGhpcy5fcGF0aCA9IHNzaERpclBhdGhBcmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wYXRoID0gcGx1Z2lucy5wYXRoLmpvaW4ocGx1Z2lucy5zbWFydHBhdGguZ2V0LmhvbWUoKSxcIi5zc2gvXCIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB3cml0ZVRvRGlyKGRpclBhdGhBcmc/OnN0cmluZyl7IC8vIHN5bmNzIHNzaEluc3RhbmNlIHRvIGRpcmVjdG9yeVxuICAgICAgICBsZXQgcGF0aCA9IHRoaXMuX3BhdGg7XG4gICAgICAgIGlmKGRpclBhdGhBcmcpIHBhdGggPSBkaXJQYXRoQXJnO1xuICAgICAgICB0aGlzLl9zc2hLZXlBcnJheS5mb3JFYWNoKChzc2hLZXlBcmcpID0+IHtcbiAgICAgICAgICAgIHNzaEtleUFyZy5zdG9yZShwYXRoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NzaENvbmZpZy5zdG9yZShwYXRoKTtcbiAgICB9O1xuICAgIHJlYWRGcm9tRGlyKGRpclBhdGhBcmc/OnN0cmluZyl7IC8vIHN5bmNzIHNzaEluc3RhbmNlIGZyb20gZGlyZWN0b3J5XG4gICAgICAgIGxldCBwYXRoID0gdGhpcy5fcGF0aDtcbiAgICAgICAgaWYoZGlyUGF0aEFyZykgcGF0aCA9IGRpclBhdGhBcmc7XG4gICAgfVxuICAgIHVwZGF0ZURpclBhdGgoZGlyUGF0aEFyZzpzdHJpbmcpe1xuICAgICAgICB0aGlzLl9wYXRoID0gZGlyUGF0aEFyZztcbiAgICB9O1xuICAgIGdldEtleXMoKXtcbiAgICAgICAgcmV0dXJuIGhlbHBlcnMuc3NoS2V5QXJyYXlGcm9tRGlyKHRoaXMuX3BhdGgpO1xuICAgIH1cbn0iXX0=
